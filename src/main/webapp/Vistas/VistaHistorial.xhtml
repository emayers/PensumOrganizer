<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" 
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
	
  <h:head>
  	<link rel="Stylesheet" type="text/css" href="./Style/main.css"/>
  </h:head>
  
  <h:body>
	<h:panelGroup layout="block" id="menu">
		<ul id="nav-bar">
			<li><h:link value="Pagina Principal" outcome="VistaLogin">
				</h:link></li>
			<li><h:link id="org" value="Ver Historial" outcome="VistaHistorial">
				</h:link></li>
			<li><h:link value="Programa de la Carrera" outcome="VistaLogin">
				</h:link></li>
			<li><h:link value="Reorganizar Pensum" outcome="VistaPOAuto">
				</h:link></li>
			<li id="user">
				<p>Cerrar Sesion</p>
				<h:panelGroup layout="block" id="dropdown-content">
    					<h:link value="Log Out" outcome="VistaLogin"></h:link>
				</h:panelGroup>
			</li>
		</ul>
	</h:panelGroup>
	
	<h1 text-align= "center">Ingenieria de Software - 2010</h1>
	
	<h:panelGroup layout="block" id="Pensum_Organizado_auto" >
		<c:forEach items="#{autoPOBean.trimester}" var="entry">
			<c:set var="tricuant" value="#{tricuant}"></c:set>
			<h:dataTable id="Tabla-P-O" value="#{entry.value}" var="list">
					<c:set var="tricuant" value="#{tricuant + 1}"></c:set>
					<f:facet name="header">
						<p>Trimestre #{tricuant}</p> 
					</f:facet>
				<h:column>
					<f:facet name="header">
						Clave
					</f:facet>
					#{list.id}
				</h:column>
				<h:column>
					<f:facet name="header">
						Asignatura
					</f:facet>
					#{list.name}
				</h:column>
				<h:column>
					<f:facet name="header">
						Creditos
					</f:facet>
					#{list.credits}
				</h:column>
				<h:column>
					<f:facet name="header">
						Pre-Requisito
					</f:facet>
						<h:outputText rendered="${fn:length(list.preqID) == '0'}" value="-" />
						<h:outputText rendered="${fn:length(list.preqID) != '0'}" value="#{list.preqID}"/>
				</h:column>
				<h:column>
					<f:facet name="header">
						Co-Requisito
					</f:facet>
						<h:outputText rendered="${fn:length(list.coReqID) == '0'}" value="-" />
						<h:outputText rendered="${fn:length(list.coReqID) != '0'}" value="#{list.preqID}"/>
				</h:column>
				<h:column>
					<f:facet name="header">
						Creditos Requeridos
					</f:facet>
					<h:outputText rendered="#{list.creditsReq != '0'}" value="#{list.creditsReq}" />
					<h:outputText rendered="#{list.creditsReq == '0'}" value="-" />
				</h:column>
				<h:column>
					<f:facet name="header">
						Calificaciones
					</f:facet>
						A
				</h:column>
					<f:facet name="footer">
						<p>
							Total de creditos:
							<c:forEach items="#{entry.value}" var="ls">
								<c:set var="crdtotal" value="#{crdtotal + ls.credits}"></c:set>	
							</c:forEach>
							#{crdtotal}
							<c:set var="crdtotal" value="0"></c:set>
						</p>
					</f:facet>
					<f:facet name="footer">
						<p>Indice trimestral: 4.00</p>
					</f:facet>
			</h:dataTable>	
		</c:forEach>
	</h:panelGroup>
  </h:body>
</html>